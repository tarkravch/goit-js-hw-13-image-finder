{"version":3,"sources":["webpack:///./refs.js","webpack:///./modalImage.js","webpack:///./renderGallery.js","webpack:///./apiService.js","webpack:///./index.js","webpack:///./templates/image-card.hbs"],"names":["refs","singleCard","document","querySelector","inputForm","gallery","loadMoreBtn","renderGallery","foundImages","hits","forEach","foundImg","insertAdjacentHTML","imageCard","largeImageURL","renderCard","API_KEY","ApiService","this","searchQuery","pageNumber","fetchImages","fetch","MAIN_URL","then","response","console","log","json","incrementPage","resetPage","clearGallery","innerHTML","newQuery","addEventListener","event","preventDefault","apiRequest","query","currentTarget","elements","value","searchValue","trim","alert","text","delay","options","hasChildNodes","removeAttribute","success","setAttribute","error","catch","heightToScroll","documentElement","offsetHeight","window","scrollTo","top","left","behavior","Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","program","noop"],"mappings":"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","file":"main.5406471676326a173377.js","sourcesContent":["export const refs = {\r\n    singleCard: document.querySelector('.photo-card'),\r\n    inputForm: document.querySelector('.search-form'),\r\n    gallery: document.querySelector('.gallery'),\r\n    loadMoreBtn: document.querySelector('[data-action=\"load-more\"]'),\r\n\r\n    // clickedImage: document.querySelector('.image')\r\n\r\n}","import imageCard from './templates/image-card.hbs';\r\nimport './styles.css';\r\nimport { refs } from './refs';\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport largePicURL from './renderGallery';\r\nexport const clickedImage = document.querySelector('.image');\r\n\r\n\r\nexport default function showLargeImg(event) {\r\n    const imgToShow = event.target;\r\n\r\n    const instance = basicLightbox.create(`\r\n    <div class=\"modal\">\r\n        <img src=${imgToShow.largeImageURL} alt=\"Large picture\"/>\r\n    </div>\r\n`)\r\n    instance.show();\r\n}","import imageCard from './templates/image-card.hbs';\r\nimport './styles.css';\r\nimport { refs } from './refs';\r\n\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/mobile/dist/PNotifyMobile.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport { alert, error, success, defaultModules } from '@pnotify/core/dist/PNotify.js';\r\nimport * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\r\nimport clickedImage from './modalImage';\r\nexport default function renderGallery(foundImages) {\r\n\r\n    const imgArr = foundImages.hits;\r\n    const finding = imgArr.forEach(foundImg => {\r\n        renderCard(foundImg);\r\n    });\r\n}\r\n\r\nfunction renderCard(foundImg) {\r\n    refs.gallery.insertAdjacentHTML('beforeend', imageCard({ foundImg }));\r\n    const largePicURL = foundImg.largeImageURL;\r\n}","import imageCard from './templates/image-card.hbs';\r\nimport './styles.css';\r\n\r\nimport { refs } from './refs';\r\nimport { renderGallery } from './renderGallery';\r\nimport clickedImage from './modalImage';\r\nimport showLargeImg from './modalImage';\r\n\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/mobile/dist/PNotifyMobile.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport { alert, error, success, defaultModules } from '@pnotify/core/dist/PNotify.js';\r\nimport * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\r\n\r\nconst MAIN_URL = 'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\r\nexport const API_KEY = '21265034-f349ebe085002257868a3d8ee';\r\nexport const options = {\r\n    headers: {\r\n        Authorization: API_KEY,\r\n    },\r\n};\r\n/* API SERVICE */\r\nexport default class ApiService {\r\n    constructor() {\r\n        this.searchQuery = '';\r\n        this.pageNumber = 1;\r\n    }\r\n    fetchImages() {\r\n        return fetch(`${MAIN_URL}&q=${this.searchQuery}&page=${this.pageNumber}&per_page=12&key=${API_KEY}`)\r\n            .then(response => {\r\n                console.log(response);\r\n                return response.json();\r\n            })\r\n            .then((foundImages) => {\r\n                console.log(foundImages);\r\n                this.incrementPage();\r\n                return foundImages;\r\n            })\r\n    }\r\n    incrementPage() {\r\n        this.pageNumber += 1;\r\n    }\r\n\r\n    resetPage() {\r\n        this.pageNumber = 1;\r\n    }\r\n    clearGallery() {\r\n        refs.gallery.innerHTML = '';\r\n    }\r\n    get query() {\r\n        return this.searchQuery;\r\n    }\r\n\r\n    set query(newQuery) {\r\n        this.searchQuery = newQuery;\r\n    }\r\n\r\n}","import './styles.css';\r\nimport './apiService';\r\n\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/mobile/dist/PNotifyMobile.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport { alert, error, success, defaultModules } from '@pnotify/core/dist/PNotify.js';\r\nimport * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\r\n\r\nimport * as basicLightbox from 'basiclightbox';\r\n\r\nimport showLargeImg from './modalImage';\r\n\r\nimport renderGallery from './renderGallery';\r\nimport { refs } from './refs';\r\nimport clickedImage from './modalImage';\r\nimport imageCard from './templates/image-card.hbs';\r\nimport ApiService from './apiService';\r\nimport API_KEY from './apiService';\r\nimport options from './apiService';\r\n\r\nimport noticeError from './renderGallery';\r\nimport noticeSuccess from './renderGallery';\r\n\r\nrefs.inputForm.addEventListener('submit', onSearch);\r\nrefs.loadMoreBtn.addEventListener('click', loadMore);\r\nrefs.loadMoreBtn.setAttribute('hidden', true);\r\n\r\n\r\nconst apiRequest = new ApiService();\r\nlet searchValue;\r\n\r\nfunction onSearch(event) {\r\n    event.preventDefault();\r\n\r\n    apiRequest.query = event.currentTarget.elements.query.value;\r\n    searchValue = apiRequest.query;\r\n    if (searchValue === \"\" || !searchValue.trim()) {\r\n        return alert({ text: 'Please, input something into search field!', delay: 2000 });\r\n    }\r\n    apiRequest.resetPage();\r\n    apiRequest.clearGallery();\r\n    apiRequest.fetchImages(searchValue, options)\r\n        .then(renderGallery)\r\n        .then(() => {\r\n            if (!refs.gallery.hasChildNodes('li')) {\r\n                refs.loadMoreBtn.setAttribute('hidden', true);\r\n                return error({ text: 'Not found! Please try more specific query.', delay: 3000 });\r\n            } else {\r\n                refs.loadMoreBtn.removeAttribute('hidden');\r\n                return success({ text: 'Gallery has been built successfully!', delay: 2000 });\r\n            }\r\n\r\n\r\n        })\r\n        .catch(() => {\r\n            return error({ text: 'Not found! Please try more specific query.', delay: 3000 });\r\n        })\r\n\r\n};\r\n\r\nfunction loadMore() {\r\n\r\n    const heightToScroll = document.documentElement.offsetHeight;\r\n    window.scrollTo({ top: heightToScroll, left: 0, behavior: 'smooth' });\r\n\r\n    apiRequest.fetchImages(searchValue, options)\r\n        .then(renderGallery);\r\n\r\n}","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n<li class=\\\"photo-card\\\">\\r\\n\t<img class=\\\"image\\\" src=\\\"\"\n    + ((stack1 = ((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":25},\"end\":{\"line\":4,\"column\":43}}}) : helper))) != null ? stack1 : \"\")\n    + \"\\\" alt=\\\"\\\" width=\\\"400\\\" height=\\\"300\\\" />\\r\\n\\r\\n\t<div class=\\\"stats\\\">\\r\\n\t\t<p class=\\\"stats-item\\\">\\r\\n\t\t\t<i class=\\\"material-icons\\\">thumb_up</i>\\r\\n\t\t\t\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":3},\"end\":{\"line\":9,\"column\":12}}}) : helper)))\n    + \"\\r\\n\t\t</p>\\r\\n\t\t<p class=\\\"stats-item\\\">\\r\\n\t\t\t<i class=\\\"material-icons\\\">visibility</i>\\r\\n\t\t\t\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":3},\"end\":{\"line\":13,\"column\":12}}}) : helper)))\n    + \"\\r\\n\t\t</p>\\r\\n\t\t<p class=\\\"stats-item\\\">\\r\\n\t\t\t<i class=\\\"material-icons\\\">comment</i>\\r\\n\t\t\t\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":3},\"end\":{\"line\":17,\"column\":15}}}) : helper)))\n    + \"\\r\\n\t\t</p>\\r\\n\t\t<p class=\\\"stats-item\\\">\\r\\n\t\t\t<i class=\\\"material-icons\\\">cloud_download</i>\\r\\n\t\t\t\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":3},\"end\":{\"line\":21,\"column\":16}}}) : helper)))\n    + \"\\r\\n\t\t</p>\\r\\n\t</div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":25,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}